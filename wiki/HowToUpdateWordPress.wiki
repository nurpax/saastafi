#summary How to upgrade WP on saasta
#labels Phase-Implementation

= How to upgrade WP =

Upgrading WP is not quite as simple as it is on a normal WP installation.  The reason is that we've modified WP's internals from a couple of places.  When an upgrade is done, we need to apply our custom changes on top of the upgraded WP, in order to not loose our WP customizations.

== Create an upgrade development branch ==

 # Create an "upgrade branch" 
  * Make sure main branch up to date and committed (=`svn st` shouldn't print anything)
  * `svn cp https://saastafi.googlecode.com/svn/trunk/ https://saastafi.googlecode.com/svn/branches/upgrade-wp-x.y.z` where x.y.z is the version number of WP you're upgrading to.  Commit the branch with "svn ci"
 # Test that your upgrade branch works by pointing creating a link from your htdocs to the newly created branch.  The site should function as it was working from trunk.

== Upgrade WP ==
 # Take a backup of your DB!  WP upgrade will modify your DB once you run it the first time, so it's good to have the old one available in case something goes wrong.
 # Working in your newly created upgrade branch, upgrade WP using the standard WP upgrade procedure
 # Add all new files (run `svn st` and add all `?` files)
 # Submit everything before going any further

== Apply custom changes ==
Now this is the tricky part.  We need to apply our custom changes to the newly upgraded WP.

Here are the custom changes that we've done to WP.  The table lists both SVN change numbers and issue numbers in the issue DB.  You should apply each change and verify that each change works by testing against the descriptions in the issue thread.

|| *SVN change* || *Issue* ||
|| r54 || [http://code.google.com/p/saastafi/issues/detail?id=1 Issue 1: Max width thumbnail creation] ||

 





